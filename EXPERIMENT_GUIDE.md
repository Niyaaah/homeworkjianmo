# UPPAAL实验指南

## 1. 实验目的
利用UPPAAL建模电梯系统的目的是为了理解系统的行为以及验证其在不同条件下的性能。通过该实验，学生能够学习到如何使用形式化方法来分析系统的可靠性和效率。

## 2. 系统架构
电梯系统可以分为以下三个子系统：
- **乘客子系统**：用于模拟乘客的行为与需求。
- **电梯子系统**：负责电梯的运动、状态变化及请求处理。
- **调度器子系统**：管理电梯的调度选择，确保乘客请求得到满足。 

## 3. 子系统的详细解释
### 乘客子系统
- 状态图：乘客的状态包括等待、乘坐和离开。
- 转换：乘客从等待状态转移到乘坐状态，条件是电梯到达。 

### 电梯子系统
- 状态图：电梯有以下状态：空闲、运行、到达停止。
- 转换：当乘客请求后，电梯从空闲状态转移到运行状态。 

### 调度器子系统
- 状态图：调度器状态包括选择电梯和红包乘客。
- 转换：调度器根据乘客请求选择相应的电梯。

## 4. 验证属性和查询
通过UPPAAL可以验证属性，例如：
- 每个乘客最终都会被送到目的地。
- 电梯在忙碌状态下不会无故停运。

## 5. 实验步骤
1. 创建UPPAAL模型。
2. 定义所有必要的变量与位置。
3. 实现乘客、调度器和电梯子系统。
4. 运行模型检查以验证属性。
5. 分析结果并生成报告。

## 6. 常见验证场景
- 验证系统在高并发乘客请求时的行为。
- 严重故障情况下的电梯调度响应。

## 7. 故障排查指南
- 如果电梯没有免费，检查调度器的逻辑。
- 如果乘客不能进入电梯，检查状态转换条件。

## 8. 扩展实验
- 设计多电梯系统的调度策略。
- 模拟不同用户行为对系统性能的影响。

## 9. 报告撰写指南
- 引言：描述实验动机。
- 方法：详细阐述实验的过程与思路。
- 结果：展示实验数据与图表。
- 结论：分析实验结果并提出改进建议。

## 10. 快速参考附录
- UPPAAL查询示例：
```
A [] (elevator1.position == target1)
```  
- UPPAAL声明示例：
```
int num_passengers;
```